vich_uploader:
    db_driver: orm
    mappings:
        media_object:
            uri_prefix: /media
            upload_destination: '%kernel.project_dir%/public/media'
            namer: Vich\UploaderBundle\Naming\SmartUniqueNamer
            inject_on_load: false
            delete_on_update: true
            delete_on_remove: true
        
        # Mapping pour les images de catégories
        category_images:
            uri_prefix: /data/images/categories
            upload_destination: '%kernel.project_dir%/public/data/images/categories'
            namer: Vich\UploaderBundle\Naming\SmartUniqueNamer
            inject_on_load: false
            delete_on_update: true
            delete_on_remove: true
        
        # Mapping pour les icons/SVG de catégories
        category_icons:
            uri_prefix: /data/icons/categories
            upload_destination: '%kernel.project_dir%/public/data/icons/categories'
            namer: Vich\UploaderBundle\Naming\SmartUniqueNamer
            inject_on_load: false
            delete_on_update: true
            delete_on_remove: true
        
        # Mapping spécifique pour les images de produits (JSON upload)
        # Conserve le nom original et stocke dans /images/products/
        product_images:
            uri_prefix: /images/products
            upload_destination: '%kernel.project_dir%/public/images/products'
            namer: App\Service\OriginalFileNamer
            inject_on_load: false
            delete_on_update: false
            delete_on_remove: false