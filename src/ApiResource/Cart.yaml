App\Entity\Cart:
  operations:
    get_cart:
      method: 'GET'
      class: ApiPlatform\Metadata\Get
      uriTemplate: '/carts/{id}'
      normalizationContext:
        groups: ['cart:read', 'id:read','product:read','image:read']
      openapi:
        summary: 'Get a cart'
        description: 'Get a cart by id'
        parameters:
          - name: 'id'
            in: 'path'
            description:  'The id of the cart'

    get_carts:
      method: 'GET'
      class: ApiPlatform\Metadata\GetCollection
      uriTemplate: '/carts'
      normalizationContext:
        groups: ['cart:read', 'id:read','product:read','image:read']
      openapi:
        summary: 'Get all cart'
        description: 'Get all cart'

    post_cart:
        method: 'POST'
        class: ApiPlatform\Metadata\Post
        uriTemplate: '/carts'
        normalizationContext:
          groups: ['cart:write', 'id:read','product:read','image:read']
        processor: App\State\Cart\CartProcessor
        input: 'App\Dto\OwnerInput'
        openapi:
            summary: 'Create a cart'
            description: 'Create a cart'

    delete_cart:
      method: 'DELETE'
      class: ApiPlatform\Metadata\Delete
      uriTemplate: '/carts/{id}'
      openapi:
        summary: 'Delete a cart'
        description: 'Delete a cart by id'
        parameters:
          - name: 'id'
            in: 'path'
            description: 'The id of the cart'

  normalizationContext:
    groups: ['cart:read']

