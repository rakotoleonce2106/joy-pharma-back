App\Entity\Brand:
    operations:
        get_brand:
            method: 'GET'
            class: ApiPlatform\Metadata\Get
            uriTemplate: '/brand/{id}'
            normalizationContext:
                groups: ['id:read','brand:read','image:read','media_object:read']
            openapi:
                summary: 'Get a brand'
                description: 'Get a brand by id'
                parameters:
                    - name: 'id'
                      in: 'path'
                      description:  'The id of the brand'

        get_brands:
            method: 'GET'
            class: ApiPlatform\Metadata\GetCollection
            uriTemplate: '/brand'
            normalizationContext:
                groups: ['id:read','brand:read','image:read','media_object:read']
            openapi:
                summary: 'Get all brands'
                description: 'Get all brands'

        # Admin specific endpoints
        admin_get_brands:
            class: ApiPlatform\Metadata\GetCollection
            uriTemplate: '/admin/brands'
            security: 'is_granted("ROLE_ADMIN")'
            normalizationContext:
                groups: ['id:read', 'brand:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'List all brands (Admin)'
                description: 'Get paginated list of all brands'

        admin_get_brand:
            class: ApiPlatform\Metadata\Get
            uriTemplate: '/admin/brands/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            normalizationContext:
                groups: ['id:read', 'brand:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Get brand by ID (Admin)'
                description: 'Get detailed information about a specific brand'

        admin_create_brand:
            class: ApiPlatform\Metadata\Post
            uriTemplate: '/admin/brands'
            security: 'is_granted("ROLE_ADMIN")'
            denormalizationContext:
                groups: ['brand:write']
            validationContext:
                groups: ['create']
            normalizationContext:
                groups: ['id:read', 'brand:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Create new brand (Admin)'
                description: 'Create a new brand with optional logo. Upload logo first using POST /api/media_objects, then reference it using IRI (e.g., "/api/media_objects/123"). Use Content-Type: application/ld+json when sending IRIs.'

        admin_update_brand:
            class: ApiPlatform\Metadata\Put
            uriTemplate: '/admin/brands/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            inputFormats:
                json: ['application/json']
                jsonld: ['application/ld+json']
            denormalizationContext:
                groups: ['brand:write']
            normalizationContext:
                groups: ['id:read', 'brand:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Update brand (Admin) - Full update'
                description: 'Update brand name and logo. Upload logo first using POST /api/media_objects, then reference it using IRI. Use Content-Type: application/ld+json when sending IRIs. For partial updates, use PATCH instead.'

        admin_patch_brand:
            class: ApiPlatform\Metadata\Patch
            uriTemplate: '/admin/brands/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            inputFormats:
                json: ['application/json']
                jsonld: ['application/ld+json']
            denormalizationContext:
                groups: ['brand:write']
            normalizationContext:
                groups: ['id:read', 'brand:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Update brand (Admin) - Partial update'
                description: 'Partially update brand information. Only provide the fields you want to update. Use Content-Type: application/ld+json when sending IRIs.'

        admin_delete_brand:
            class: ApiPlatform\Metadata\Delete
            uriTemplate: '/admin/brands/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            openapi:
                summary: 'Delete brand (Admin)'
                description: 'Permanently delete a brand'

        admin_batch_delete_brands:
            class: ApiPlatform\Metadata\Post
            uriTemplate: '/admin/brands/batch-delete'
            security: 'is_granted("ROLE_ADMIN")'
            input: App\Dto\Admin\BatchDeleteInput
            processor: App\State\Admin\BatchDeleteProcessor
            openapi:
                summary: 'Batch delete brands (Admin)'
                description: 'Delete multiple brands at once'

    normalizationContext:
        groups: ['id:read','brand:read','image:read','media_object:read']
                      
