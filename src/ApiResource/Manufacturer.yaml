App\Entity\Manufacturer:
    operations:
        admin_get_manufacturers:
            class: ApiPlatform\Metadata\GetCollection
            uriTemplate: '/admin/manufacturers'
            security: 'is_granted("ROLE_ADMIN")'
            normalizationContext:
                groups: ['id:read', 'manufacturer:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'List all manufacturers (Admin)'

        admin_get_manufacturer:
            class: ApiPlatform\Metadata\Get
            uriTemplate: '/admin/manufacturers/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            normalizationContext:
                groups: ['id:read', 'manufacturer:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Get manufacturer by ID (Admin)'

        admin_create_manufacturer:
            class: ApiPlatform\Metadata\Post
            uriTemplate: '/admin/manufacturers'
            security: 'is_granted("ROLE_ADMIN")'
            denormalizationContext:
                groups: ['manufacturer:write']
            validationContext:
                groups: ['create']
            normalizationContext:
                groups: ['id:read', 'manufacturer:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Create new manufacturer (Admin)'
                description: 'Create a new manufacturer with optional logo. Upload logo first using POST /api/media_objects, then reference it using IRI (e.g., "/api/media_objects/123"). Use Content-Type: application/ld+json when sending IRIs.'

        admin_update_manufacturer:
            class: ApiPlatform\Metadata\Put
            uriTemplate: '/admin/manufacturers/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            inputFormats:
                json: ['application/json']
                jsonld: ['application/ld+json']
            denormalizationContext:
                groups: ['manufacturer:write']
            normalizationContext:
                groups: ['id:read', 'manufacturer:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Update manufacturer (Admin) - Full update'
                description: 'Update manufacturer name, description and logo. Upload logo first using POST /api/media_objects, then reference it using IRI. Use Content-Type: application/ld+json when sending IRIs. For partial updates, use PATCH instead.'

        admin_patch_manufacturer:
            class: ApiPlatform\Metadata\Patch
            uriTemplate: '/admin/manufacturers/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            inputFormats:
                json: ['application/json']
                jsonld: ['application/ld+json']
            denormalizationContext:
                groups: ['manufacturer:write']
            normalizationContext:
                groups: ['id:read', 'manufacturer:read', 'image:read', 'media_object:read']
            openapi:
                summary: 'Update manufacturer (Admin) - Partial update'
                description: 'Partially update manufacturer information. Only provide the fields you want to update. Use Content-Type: application/ld+json when sending IRIs.'

        admin_delete_manufacturer:
            class: ApiPlatform\Metadata\Delete
            uriTemplate: '/admin/manufacturers/{id}'
            security: 'is_granted("ROLE_ADMIN")'
            openapi:
                summary: 'Delete manufacturer (Admin)'

        admin_batch_delete_manufacturers:
            class: ApiPlatform\Metadata\Post
            uriTemplate: '/admin/manufacturers/batch-delete'
            security: 'is_granted("ROLE_ADMIN")'
            input: App\Dto\Admin\BatchDeleteInput
            processor: App\State\Admin\BatchDeleteProcessor
            openapi:
                summary: 'Batch delete manufacturers (Admin)'

    normalizationContext:
        groups: ['id:read', 'manufacturer:read', 'image:read', 'media_object:read']

